!function(e){var t=location.href.replace(/#.*/,""),o=e.localScroll=function(t){e("body").localScroll(t)};function n(t,o,n){var a=o.hash.slice(1),i=document.getElementById(a)||document.getElementsByName(a)[0];if(i){t&&t.preventDefault();var r=e(n.target);if(!(n.lock&&r.is(":animated")||n.onBefore&&!1===n.onBefore.call(n,t,i,r))){if(n.stop&&r.stop(!0),n.hash){var l=i.id==a?"id":"name",s=e("<a> </a>").attr(l,a).css({position:"absolute",top:e(window).scrollTop(),left:e(window).scrollLeft()});i[l]="",e("body").prepend(s),location=o.hash,s.remove(),i[l]=a}r.scrollTo(i,n).trigger("notify.serialScroll",[i])}}}o.defaults={duration:1e3,axis:"y",event:"click",stop:!0,target:window,reset:!0},o.hash=function(t){if(location.hash){if((t=e.extend({},o.defaults,t)).hash=!1,t.reset){var a=t.duration;delete t.duration,e(t.target).scrollTo(0,t),t.duration=a}n(0,location,t)}},e.fn.localScroll=function(a){return(a=e.extend({},o.defaults,a)).lazy?this.bind(a.event,(function(t){var o=e([t.target,t.target.parentNode]).filter(i)[0];o&&n(t,o,a)})):this.find("a,area").filter(i).bind(a.event,(function(e){n(e,this,a)})).end().end();function i(){return!!this.href&&!!this.hash&&this.href.replace(this.hash,"")==t&&(!a.filter||e(this).is(a.filter))}}}(jQuery);